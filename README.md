# node-pickfile

選んだファイルをコピーして新しいパッケージを作成する  
(pick files and make new package)

## 概要

- 既存のパッケージから選んだファイルだけを取り出して、新しいパッケージを作成します
- 取り出すファイルは、自動抽出ではなくファイルリストで指定します
- ファイルリストは、実行するフォルダからの相対パスを列挙したテキストファイルです
- 既に存在するファイルをコピーすることが前提のため、ファイルリストに間違い（ファイルが
存在しないなど）があった場合は処理をせず例外を出力します


__インストール__

```sh
$ npm install node-pickfile
```


## 例

__ファイルリスト__

```txt
public/html/index.html
public/css/style.css
public/doc/README.txt
```

__JavaScript__

```js
var mkcp = require('node-pickfile'); // ライブラリを読み込む
mkcp('release-20150101'); // ファイルリストのファイル名を指定
```

__ディレクトリレイアウト__

```
$CWD/
├─┬ public // <- コピー元のファイル群の例
↓ ├─┬ html
│ │ ├── index.html
↓ │ ├── about.html
│ │ └── access.html
↓ ├─┬ css
│ │ └── style.css
↓ ├── doc
│ └── README.txt
↓
---✂︎---------------------
│
├── [FILELIST].txt // <- 必要なファイル群を指定するテキストファイル
│
---✂︎---------------------
↓
└─┬ [SAVE_FOLDER][FILELIST] // <- 新規フォルダ名は、[FILELIST]の名前に基づいて生成する
  └─┬ public
    ├─┬ html
    │ └── index.html
    ├── doc
    └── README.txt
```


## 今後の課題

- [x] ファイルリストを基に既存のパッケージからファイルをコピーする
- [ ] ツリーテキストからファイルリストを作成する
- [x] 保存先ルートディレクトリを作成する際、既に存在する場合は一旦削除する
- [ ] オプションから任意の環境を指定する
    - [ ] `basedir`: 基準となるフォルダ (デフォルト: カレントディレクトリ)
    - [x] `prefix`: 新規フォルダのフォルダ名の接頭辞(デフォルト: `diff@`)
- [x] 処理後に確認のためコピー後のファイルサイズを取得しログに出力する `> README`
